{% block content %} {% load static %}

<link rel="stylesheet" href="{%static 'assets/css/scroll.css' %}">
<link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/remixicon/remixicon.css' %}" rel="stylesheet">
<link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>


<div class="vh-100 d-flex justify-content-center align-items-center">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-12 col-md-8 col-lg-6">
              <form method="POST" id="formprojet" class="shadow-lg p-4 rounded">
                {% csrf_token %}
                <h1 class="mb-4 ">Ajouter un projet</h1>
                <div class="row mb-3">                   
                  <div class="col">
                    <h4>Nom de projet</h4>
                    {{ formprojet.nom_de_projet }}
                    {% if formprojet.nom_de_projet.errors %}
                      <strong class="text-danger" role="alert">{{ formprojet.nom_de_projet.errors }}</strong>
                    {% endif %}
                  </div>
                  <div class="col">
                    <h4>Region</h4>
                    {{ formprojet.region }}
                    {% if formprojet.pays.errors %}
                      <strong class="text-danger" role="alert">{{ formprojet.region.errors }}</strong>
                    {% endif %}
                  </div>
                </div>
                
                  <div class="col">
                    <h4>Date de cr√©ation</h4>
                    
                    <input type="date" id="start_date" name="debutp" 
                    class= "form-control  p-8 mb-4 rounded", 
                    style= "font-size: 15px; background-color: #DFD9DB;",type= 'date', placeholder= 'yyyy-mm-dd (DOB)'
                    required>

                  </div>

                  <div class="col">
                    <h4>Date de fin </h4>
                    <input type="date" id="end_date" name="finp" 
                    class ="form-control  p-8 mb-4 rounded",
                     style= "font-size: 15px; background-color: #DFD9DB;",type= 'date', placeholder= 'yyyy-mm-dd (DOB)'
                    required>

                  </div>
                  
                  <div class="col">
                    <div class="dropdown">
                      <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                        Add Client
                      </a>
                      <ul class="dropdown-menu" style="max-height: 200px; overflow-y: auto;">
                        <li><a class="dropdown-item" href="#" onclick="updateSelected('New Client')"><span class="plus">+</span> New Client</a></li>
                        {% for clientt in clients %}
                          <li><a class="dropdown-item" href="#" onclick="updateSelected('{{ clientt.pseudo }}')">{{ clientt.pseudo }}</a></li>
                        {% endfor %}
                      </ul>
                    </div>
                    <br>
                    <div class="col">
                      <div class="form-control shadow-lg p-3 mb-3 rounded bg-white" style="font-size:20px;">
                        <input  id="selectedItem" name="selecteditem" class="form-control shadow-lg p-3 mb-3 rounded bg-white" style="font-size:20px;"> 
                      </div>
                      <br>
                      <div class="d-grid">
                        <button class="btn btn-outline-dark" type="submit" value="save">Suivant</button>
                      </div>
                    </div>
                  </div>
                  
                  
                  
              </form>
        </div>
      </div>
    </div>
  </div>
<script>
  function updateSelected(selectedItem) {
    document.getElementById("selectedItem").value = selectedItem;
  }

  </script>
    <script>
      const startDateField = document.getElementById("start_date");
      const endDateField = document.getElementById("end_date");
    
      startDateField.addEventListener("input", function () {
        endDateField.min = this.value;
      });
  </script>
  
{% endblock %} 